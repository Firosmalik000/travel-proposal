    const handleSubmit = (e: React.FormEvent) => {
        e.preventDefault();

        console.log('Form submitted with data:', data);

        // Validate department and jabatan
        if (data.department_id === 'none') {
            alert('Pilih department terlebih dahulu');
            setCurrentTab('karyawan');
            return;
        }

        if (data.jabatan_id === 'none') {
            alert('Pilih jabatan terlebih dahulu');
            setCurrentTab('karyawan');
            return;
        }

        console.log('Submitting to backend...');

        if (karyawan) {
            put(`/dashboard/hrd/hris/master-karyawan/${karyawan.id}`, {
                forceFormData: true,
                onSuccess: () => {
                    console.log('Update success');
                    onClose();
                    reset();
                },
                onError: (errors) => {
                    console.error('Update error:', errors);
                },
            });
        } else {
            post('/dashboard/hrd/hris/master-karyawan', {
                forceFormData: true,
                onSuccess: () => {
                    console.log('Create success');
                    onClose();
                    reset();
                },
                onError: (errors) => {
                    console.error('Create error:', errors);
                },
            });
        }
    };
